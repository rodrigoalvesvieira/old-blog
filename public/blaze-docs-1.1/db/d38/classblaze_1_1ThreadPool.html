<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>blaze::ThreadPool Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d2/de9/namespaceblaze.html">blaze</a></li><li class="navelem"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html">ThreadPool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pri-types">Private Types</a> &#124;
<a href="../../d8/d0d/classblaze_1_1ThreadPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">blaze::ThreadPool Class Reference<div class="ingroups"><a class="el" href="../../d2/db9/group__threads.html">Thread parallelization</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of a thread pool.  
 <a href="../../db/d38/classblaze_1_1ThreadPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/d43/ThreadPool_8h_source.html">ThreadPool.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="../../dd/dbc/classblaze_1_1NonCopyable.html">blaze::NonCopyable</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructor</div></td></tr>
<tr class="memitem:a86ba0330d23ac85da009410277438dbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a86ba0330d23ac85da009410277438dbc">ThreadPool</a> (<a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> n)</td></tr>
<tr class="memdesc:a86ba0330d23ac85da009410277438dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class.  <a href="#a86ba0330d23ac85da009410277438dbc"></a><br/></td></tr>
<tr class="separator:a86ba0330d23ac85da009410277438dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Destructor</div></td></tr>
<tr class="memitem:a77dac6741b4065a0b5a6003f45b157fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a77dac6741b4065a0b5a6003f45b157fe">~ThreadPool</a> ()</td></tr>
<tr class="memdesc:a77dac6741b4065a0b5a6003f45b157fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class.  <a href="#a77dac6741b4065a0b5a6003f45b157fe"></a><br/></td></tr>
<tr class="separator:a77dac6741b4065a0b5a6003f45b157fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Get functions</div></td></tr>
<tr class="memitem:a8f89ce75f6a2ad74f215d5a00ec21bf0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a8f89ce75f6a2ad74f215d5a00ec21bf0">isEmpty</a> () const </td></tr>
<tr class="memdesc:a8f89ce75f6a2ad74f215d5a00ec21bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether any tasks are scheduled for execution.  <a href="#a8f89ce75f6a2ad74f215d5a00ec21bf0"></a><br/></td></tr>
<tr class="separator:a8f89ce75f6a2ad74f215d5a00ec21bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e1168f95417e839b5a82851519c519"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#ab8e1168f95417e839b5a82851519c519">size</a> () const </td></tr>
<tr class="memdesc:ab8e1168f95417e839b5a82851519c519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current size of the thread pool.  <a href="#ab8e1168f95417e839b5a82851519c519"></a><br/></td></tr>
<tr class="separator:ab8e1168f95417e839b5a82851519c519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81cb19bc35c30c74f34b5a80b6bd6d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#af81cb19bc35c30c74f34b5a80b6bd6d1">active</a> () const </td></tr>
<tr class="memdesc:af81cb19bc35c30c74f34b5a80b6bd6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of currently active/busy threads.  <a href="#af81cb19bc35c30c74f34b5a80b6bd6d1"></a><br/></td></tr>
<tr class="separator:af81cb19bc35c30c74f34b5a80b6bd6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f907b1dabbf57574ef59ef53fd50a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a81f907b1dabbf57574ef59ef53fd50a5">ready</a> () const </td></tr>
<tr class="memdesc:a81f907b1dabbf57574ef59ef53fd50a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of currently ready/inactive threads.  <a href="#a81f907b1dabbf57574ef59ef53fd50a5"></a><br/></td></tr>
<tr class="separator:a81f907b1dabbf57574ef59ef53fd50a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Scheduling functions</div></td></tr>
<tr class="memitem:abc4efde7623f9aba89a0376463835dd4"><td class="memTemplParams" colspan="2">template&lt;typename Callable &gt; </td></tr>
<tr class="memitem:abc4efde7623f9aba89a0376463835dd4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#abc4efde7623f9aba89a0376463835dd4">schedule</a> (Callable func)</td></tr>
<tr class="memdesc:abc4efde7623f9aba89a0376463835dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given zero argument function/functor for execution.  <a href="#abc4efde7623f9aba89a0376463835dd4"></a><br/></td></tr>
<tr class="separator:abc4efde7623f9aba89a0376463835dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078c4ac2e07298a5891e7e8f0999b08a"><td class="memTemplParams" colspan="2">template&lt;typename Callable , typename A1 &gt; </td></tr>
<tr class="memitem:a078c4ac2e07298a5891e7e8f0999b08a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a078c4ac2e07298a5891e7e8f0999b08a">schedule</a> (Callable func, A1 a1)</td></tr>
<tr class="memdesc:a078c4ac2e07298a5891e7e8f0999b08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given unary function/functor for execution.  <a href="#a078c4ac2e07298a5891e7e8f0999b08a"></a><br/></td></tr>
<tr class="separator:a078c4ac2e07298a5891e7e8f0999b08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47202085694fec62f82c6c6813f1699b"><td class="memTemplParams" colspan="2">template&lt;typename Callable , typename A1 , typename A2 &gt; </td></tr>
<tr class="memitem:a47202085694fec62f82c6c6813f1699b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a47202085694fec62f82c6c6813f1699b">schedule</a> (Callable func, A1 a1, A2 a2)</td></tr>
<tr class="memdesc:a47202085694fec62f82c6c6813f1699b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given binary function/functor for execution.  <a href="#a47202085694fec62f82c6c6813f1699b"></a><br/></td></tr>
<tr class="separator:a47202085694fec62f82c6c6813f1699b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289b7573a696614d01dc6294dac5a2b3"><td class="memTemplParams" colspan="2">template&lt;typename Callable , typename A1 , typename A2 , typename A3 &gt; </td></tr>
<tr class="memitem:a289b7573a696614d01dc6294dac5a2b3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a289b7573a696614d01dc6294dac5a2b3">schedule</a> (Callable func, A1 a1, A2 a2, A3 a3)</td></tr>
<tr class="memdesc:a289b7573a696614d01dc6294dac5a2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given ternary function/functor for execution.  <a href="#a289b7573a696614d01dc6294dac5a2b3"></a><br/></td></tr>
<tr class="separator:a289b7573a696614d01dc6294dac5a2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6d3175a2e495449f3e230967e2b64f"><td class="memTemplParams" colspan="2">template&lt;typename Callable , typename A1 , typename A2 , typename A3 , typename A4 &gt; </td></tr>
<tr class="memitem:aad6d3175a2e495449f3e230967e2b64f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aad6d3175a2e495449f3e230967e2b64f">schedule</a> (Callable func, A1 a1, A2 a2, A3 a3, A4 a4)</td></tr>
<tr class="memdesc:aad6d3175a2e495449f3e230967e2b64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given four argument function/functor for execution.  <a href="#aad6d3175a2e495449f3e230967e2b64f"></a><br/></td></tr>
<tr class="separator:aad6d3175a2e495449f3e230967e2b64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1933c232475a01611b09ff654144854d"><td class="memTemplParams" colspan="2">template&lt;typename Callable , typename A1 , typename A2 , typename A3 , typename A4 , typename A5 &gt; </td></tr>
<tr class="memitem:a1933c232475a01611b09ff654144854d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a1933c232475a01611b09ff654144854d">schedule</a> (Callable func, A1 a1, A2 a2, A3 a3, A4 a4, A5 a5)</td></tr>
<tr class="memdesc:a1933c232475a01611b09ff654144854d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling the given four argument function/functor for execution.  <a href="#a1933c232475a01611b09ff654144854d"></a><br/></td></tr>
<tr class="separator:a1933c232475a01611b09ff654144854d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions</div></td></tr>
<tr class="memitem:a37e71796beb96c6571a2c92b2e37f413"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a37e71796beb96c6571a2c92b2e37f413">resize</a> (<a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> n)</td></tr>
<tr class="memdesc:a37e71796beb96c6571a2c92b2e37f413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the total number of threads in the thread pool.  <a href="#a37e71796beb96c6571a2c92b2e37f413"></a><br/></td></tr>
<tr class="separator:a37e71796beb96c6571a2c92b2e37f413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a08740fdc696ac7251585fcf6d10224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a8a08740fdc696ac7251585fcf6d10224">wait</a> ()</td></tr>
<tr class="memdesc:a8a08740fdc696ac7251585fcf6d10224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for all scheduled tasks to be completed.  <a href="#a8a08740fdc696ac7251585fcf6d10224"></a><br/></td></tr>
<tr class="separator:a8a08740fdc696ac7251585fcf6d10224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6ce761401ad82c0c6d0cb6f3431947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a8a6ce761401ad82c0c6d0cb6f3431947">clear</a> ()</td></tr>
<tr class="memdesc:a8a6ce761401ad82c0c6d0cb6f3431947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removing all scheduled tasks from the thread pool.  <a href="#a8a6ce761401ad82c0c6d0cb6f3431947"></a><br/></td></tr>
<tr class="separator:a8a6ce761401ad82c0c6d0cb6f3431947"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a52768d2392f23f516afd81ce185e2e3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52768d2392f23f516afd81ce185e2e3b"></a>
typedef <a class="el" href="../../d3/ddf/classblaze_1_1PtrVector.html">PtrVector</a>&lt; <a class="el" href="../../de/d7d/classblaze_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a52768d2392f23f516afd81ce185e2e3b">Threads</a></td></tr>
<tr class="memdesc:a52768d2392f23f516afd81ce185e2e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the thread container. <br/></td></tr>
<tr class="separator:a52768d2392f23f516afd81ce185e2e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa59ce5ddcb2f5b8642b341baacab719"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa59ce5ddcb2f5b8642b341baacab719"></a>
typedef <a class="el" href="../../db/dee/classblaze_1_1threadpool_1_1TaskQueue.html">threadpool::TaskQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aaa59ce5ddcb2f5b8642b341baacab719">TaskQueue</a></td></tr>
<tr class="memdesc:aaa59ce5ddcb2f5b8642b341baacab719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the task queue. <br/></td></tr>
<tr class="separator:aaa59ce5ddcb2f5b8642b341baacab719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c951be041f219d3134bfba050c7b4e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c951be041f219d3134bfba050c7b4e2"></a>
typedef boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a5c951be041f219d3134bfba050c7b4e2">Mutex</a></td></tr>
<tr class="memdesc:a5c951be041f219d3134bfba050c7b4e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the mutex. <br/></td></tr>
<tr class="separator:a5c951be041f219d3134bfba050c7b4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb93e292dd8bc6f4e9a85cabae2023d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2eb93e292dd8bc6f4e9a85cabae2023d"></a>
typedef Mutex::scoped_lock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a2eb93e292dd8bc6f4e9a85cabae2023d">Lock</a></td></tr>
<tr class="memdesc:a2eb93e292dd8bc6f4e9a85cabae2023d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a locking object. <br/></td></tr>
<tr class="separator:a2eb93e292dd8bc6f4e9a85cabae2023d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3520f4b57ce6d09942cbb5fd7db3ac5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3520f4b57ce6d09942cbb5fd7db3ac5"></a>
typedef boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aa3520f4b57ce6d09942cbb5fd7db3ac5">Condition</a></td></tr>
<tr class="memdesc:aa3520f4b57ce6d09942cbb5fd7db3ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable type. <br/></td></tr>
<tr class="separator:aa3520f4b57ce6d09942cbb5fd7db3ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Thread functions</div></td></tr>
<tr class="memitem:af44f7f0ebb13029b6b9ac107d5331237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#af44f7f0ebb13029b6b9ac107d5331237">createThread</a> ()</td></tr>
<tr class="memdesc:af44f7f0ebb13029b6b9ac107d5331237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adding a new thread to the thread pool.  <a href="#af44f7f0ebb13029b6b9ac107d5331237"></a><br/></td></tr>
<tr class="separator:af44f7f0ebb13029b6b9ac107d5331237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ca789e9abaf1a342e090f656cbbb2c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#ae1ca789e9abaf1a342e090f656cbbb2c">executeTask</a> ()</td></tr>
<tr class="memdesc:ae1ca789e9abaf1a342e090f656cbbb2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executing a scheduled task.  <a href="#ae1ca789e9abaf1a342e090f656cbbb2c"></a><br/></td></tr>
<tr class="separator:ae1ca789e9abaf1a342e090f656cbbb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Member variables</div></td></tr>
<tr class="memitem:a47106bc2f4b742b04cdc68c6bae03942"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47106bc2f4b742b04cdc68c6bae03942"></a>
volatile <a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a47106bc2f4b742b04cdc68c6bae03942">total_</a></td></tr>
<tr class="memdesc:a47106bc2f4b742b04cdc68c6bae03942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of threads in the thread pool. <br/></td></tr>
<tr class="separator:a47106bc2f4b742b04cdc68c6bae03942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950935080cd29afe1106dd00e66990bb"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a950935080cd29afe1106dd00e66990bb">expected_</a></td></tr>
<tr class="memdesc:a950935080cd29afe1106dd00e66990bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expected number of threads in the thread pool.  <a href="#a950935080cd29afe1106dd00e66990bb"></a><br/></td></tr>
<tr class="separator:a950935080cd29afe1106dd00e66990bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34725d7e35ad6678448e0737d45bc01e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34725d7e35ad6678448e0737d45bc01e"></a>
volatile <a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a34725d7e35ad6678448e0737d45bc01e">active_</a></td></tr>
<tr class="memdesc:a34725d7e35ad6678448e0737d45bc01e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of currently active/busy threads. <br/></td></tr>
<tr class="separator:a34725d7e35ad6678448e0737d45bc01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5699f9d97b90713faffb2b28d61f54d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5699f9d97b90713faffb2b28d61f54d"></a>
<a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a52768d2392f23f516afd81ce185e2e3b">Threads</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#af5699f9d97b90713faffb2b28d61f54d">threads_</a></td></tr>
<tr class="memdesc:af5699f9d97b90713faffb2b28d61f54d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The threads contained in the thread pool. <br/></td></tr>
<tr class="separator:af5699f9d97b90713faffb2b28d61f54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed69a75e92225155c7e040f4a10f0273"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed69a75e92225155c7e040f4a10f0273"></a>
<a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aaa59ce5ddcb2f5b8642b341baacab719">TaskQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aed69a75e92225155c7e040f4a10f0273">taskqueue_</a></td></tr>
<tr class="memdesc:aed69a75e92225155c7e040f4a10f0273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task queue for the scheduled tasks. <br/></td></tr>
<tr class="separator:aed69a75e92225155c7e040f4a10f0273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff30bf3d1db63d8f9ac104a93b78c733"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff30bf3d1db63d8f9ac104a93b78c733"></a>
<a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a5c951be041f219d3134bfba050c7b4e2">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aff30bf3d1db63d8f9ac104a93b78c733">mutex_</a></td></tr>
<tr class="memdesc:aff30bf3d1db63d8f9ac104a93b78c733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronization mutex. <br/></td></tr>
<tr class="separator:aff30bf3d1db63d8f9ac104a93b78c733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e913e8d01e1ecffc3aed98df2a3f8f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e913e8d01e1ecffc3aed98df2a3f8f9"></a>
<a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aa3520f4b57ce6d09942cbb5fd7db3ac5">Condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a8e913e8d01e1ecffc3aed98df2a3f8f9">waitForTask_</a></td></tr>
<tr class="memdesc:a8e913e8d01e1ecffc3aed98df2a3f8f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait condition for idle threads. <br/></td></tr>
<tr class="separator:a8e913e8d01e1ecffc3aed98df2a3f8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e8843ebea9d846e085fb2ae7597170"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51e8843ebea9d846e085fb2ae7597170"></a>
<a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#aa3520f4b57ce6d09942cbb5fd7db3ac5">Condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#a51e8843ebea9d846e085fb2ae7597170">waitForThread_</a></td></tr>
<tr class="memdesc:a51e8843ebea9d846e085fb2ae7597170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait condition for the thread management. <br/></td></tr>
<tr class="separator:a51e8843ebea9d846e085fb2ae7597170"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of a thread pool. </p>
<h1><a class="anchor" id="threadpool_general"></a>
General</h1>
<p>The <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class represents a thread pool according to the thread pool pattern (see for example <a href="http://en.wikipedia.org/wiki/Thread_pool_pattern">http://en.wikipedia.org/wiki/Thread_pool_pattern</a>). It manages a certain number of threads in order to process a larger number of independent tasks.</p>
<div class="image">
<img src="../../threadpool.png" alt="threadpool.png"/>
</div>
 <p>The primary purpose of a thread pool is the reuse of system resources: instead of creating a single thread for every individual task, threads are reused to handle several tasks. This increases the performance in comparison to different threading strategies, as illustrated in the graph below. The first bar indicates the sequential performance of 1000 matrix-matrix multiplications of arbitrarily sized square matrices. The second bar shows the performance of the same work performed by 1000 distinct threads (i.e. one thread for each matrix-matrix multiplication) on a quad-core system. In this case, all cores of the system can be used, but the additional overhead of creating and managing new threads prevents the expected performance increase by a factor of four. The third bar illustrates the performance of four threads distributing the work between them (i.e. 250 matrix-matrix multiplications per thread), again using the same quad-core system. This approach nearly achieves four times the performance of the sequential execution. The fourth bar represents the performance of the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class using fourth threads for the execution of the 1000 individual multiplications.</p>
<div class="image">
<img src="../../threadpool2.png" alt="threadpool2.png"/>
</div>
 <p>Additionally, the thread pool approach simplifies load balancing and increases the stability of the system.</p>
<h1><a class="anchor" id="threadpool_setup"></a>
Using the ThreadPool class</h1>
<p>The following example demonstrates the use of the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class. In contrast to the setup of individual threads (see the <a class="el" href="../../de/d7d/classblaze_1_1Thread.html" title="Implementation of a single thread of execution.">Thread</a> class description for more details), it is not necessary to create and manage individual threads, but only to schedules tasks for the accordingly sized thread pool.</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a function with no arguments that returns void</span></div>
<div class="line"><span class="keywordtype">void</span> function0() { ... }</div>
<div class="line"></div>
<div class="line"><span class="comment">// Definition of a functor (function object) taking two arguments and returning void</span></div>
<div class="line"><span class="keyword">struct </span>Functor2</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">void</span> operator()( <span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b ) { ... }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Creating a thread pool with initially two working threads</span></div>
<div class="line">   <a class="code" href="../../db/d38/classblaze_1_1ThreadPool.html#a86ba0330d23ac85da009410277438dbc" title="Constructor for the ThreadPool class.">ThreadPool</a> threadpool( 2 );</div>
<div class="line"></div>
<div class="line">   <span class="comment">// Scheduling two concurrent tasks</span></div>
<div class="line">   threadpool.schedule( function0 );</div>
<div class="line">   threadpool.schedule( Functor2(), 4, 6 );</div>
<div class="line"></div>
<div class="line">   <span class="comment">// Waiting for the thread pool to complete both tasks</span></div>
<div class="line">   threadpool.wait();</div>
<div class="line"></div>
<div class="line">   <span class="comment">// Resizing the thread pool to four working threads</span></div>
<div class="line">   threadpool.resize( 4 );</div>
<div class="line"></div>
<div class="line">   <span class="comment">// Scheduling other concurrent tasks</span></div>
<div class="line">   ...</div>
<div class="line">   threadpool.schedule( function0 );</div>
<div class="line">   ...</div>
<div class="line"></div>
<div class="line">   <span class="comment">// At the end of the thread pool scope, all tasks remaining in the task queue are removed</span></div>
<div class="line">   <span class="comment">// and all currently running tasks are completed. Additionally, all acquired resources are</span></div>
<div class="line">   <span class="comment">//safely released.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Note that the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html#abc4efde7623f9aba89a0376463835dd4" title="Scheduling the given zero argument function/functor for execution.">schedule()</a> function allows for up to five arguments for the given functions/functors.</p>
<h1><a class="anchor" id="thread_exception"></a>
Throwing exceptions in a thread parallel environment</h1>
<p>It can happen that during the execution of a given task a thread encounters an erroneous situation and has to throw an exception. However, exceptions thrown in the usual way cannot be caught by a try-catch-block in the main thread of execution:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a function throwing a std::runtime_error during its execution</span></div>
<div class="line"><span class="keywordtype">void</span> task()</div>
<div class="line">{</div>
<div class="line">   ...</div>
<div class="line">   <span class="keywordflow">throw</span> std::runtime_error( ... );</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Creating a thread pool executing the throwing function. Although the setup, the scheduling</span></div>
<div class="line"><span class="comment">// of the task, the wait() function and the destruction of the thread pool are encapsuled</span></div>
<div class="line"><span class="comment">// inside a try-catch-block, the exception cannot be caught and results in an abortion of the</span></div>
<div class="line"><span class="comment">// program.</span></div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">   Threadpool threadpool( 2 );</div>
<div class="line">   thread.schedule( task );</div>
<div class="line">   threadpool.wait();</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>( ... )</div>
<div class="line">{</div>
<div class="line">   ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>The only possible way to transport exceptions between threads is to use the according boost functionality demonstrated in the following example. Note that any function/functor scheduled for execution is responsible to handle exceptions in this way!</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;boost/bind.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/exception_ptr.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Definition of a function that happens to throw an exception. In order to throw the</span></div>
<div class="line"><span class="comment">// exception, boost::enable_current_exception() is used in combination with throw.</span></div>
<div class="line"><span class="keywordtype">void</span> throwException()</div>
<div class="line">{</div>
<div class="line">   ...</div>
<div class="line">   <span class="keywordflow">throw</span> boost::enable_current_exception( std::runtime_error( ... ) );</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Definition of a thread function. The try-catch-block catches the exception and uses the</span></div>
<div class="line"><span class="comment">// boost::current_exception() function to get a boost::exception_ptr object.</span></div>
<div class="line"><span class="keywordtype">void</span> task( boost::exception_ptr&amp; error )</div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">try</span> {</div>
<div class="line">      throwException();</div>
<div class="line">      error = boost::exception_ptr();</div>
<div class="line">   }</div>
<div class="line">   <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line">      error = boost::current_exception();</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// The function that start a thread of execution can pass along a boost::exception_ptr object</span></div>
<div class="line"><span class="comment">// that is set in case of an exception. Note that boost::current_exception() captures the</span></div>
<div class="line"><span class="comment">// original type of the exception object. The exception can be thrown again using the</span></div>
<div class="line"><span class="comment">// boost::rethrow_exception() function.</span></div>
<div class="line"><span class="keywordtype">void</span> work()</div>
<div class="line">{</div>
<div class="line">   boost::exception_ptr <a class="code" href="../../d8/dff/group__logging.html#gga7a7b703a7e8bec28aec7c92150184856a85df92226733b03810e0e4e7968a17b1" title="Log level for (sever) errors.">error</a>;</div>
<div class="line"></div>
<div class="line">   <a class="code" href="../../db/d38/classblaze_1_1ThreadPool.html#a86ba0330d23ac85da009410277438dbc" title="Constructor for the ThreadPool class.">ThreadPool</a> threadpool( 2 );</div>
<div class="line">   threadpool.schedule( boost::bind( task, boost::ref(error) ) );</div>
<div class="line">   threadpool.wait();</div>
<div class="line"></div>
<div class="line">   <span class="keywordflow">if</span>( error ) {</div>
<div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot; Exception during thread execution!\n\n&quot;</span>;</div>
<div class="line">      boost::rethrow_exception( error );</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a86ba0330d23ac85da009410277438dbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">blaze::ThreadPool::ThreadPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Initial number of threads <img class="formulaInl" alt="$[1..\infty)$" src="../../form_171.png"/>.</td></tr>
  </table>
  </dd>
</dl>
<p>This constructor creates a thread pool with initially <em>n</em> new threads. All threads are initially idle until a task is scheduled. </p>

</div>
</div>
<a class="anchor" id="a77dac6741b4065a0b5a6003f45b157fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blaze::ThreadPool::~ThreadPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor for the <a class="el" href="../../db/d38/classblaze_1_1ThreadPool.html" title="Implementation of a thread pool.">ThreadPool</a> class. </p>
<p>The destructor clears all remaining tasks from the task queue and waits for the currently active threads to complete their tasks. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af81cb19bc35c30c74f34b5a80b6bd6d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> blaze::ThreadPool::active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of currently active/busy threads. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of currently active threads. </dd></dl>

</div>
</div>
<a class="anchor" id="a8a6ce761401ad82c0c6d0cb6f3431947"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removing all scheduled tasks from the thread pool. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function removes all currently scheduled tasks from the thread pool. The total number of threads remains unchanged and all active threads continue completing their tasks. </p>

</div>
</div>
<a class="anchor" id="af44f7f0ebb13029b6b9ac107d5331237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::createThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adding a new thread to the thread pool. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ae1ca789e9abaf1a342e090f656cbbb2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool blaze::ThreadPool::executeTask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executing a scheduled task. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function is repeatedly called by every thread to execute one of the scheduled tasks. In case there is no task available, the thread blocks and waits for a new task to be scheduled. </p>

</div>
</div>
<a class="anchor" id="a8f89ce75f6a2ad74f215d5a00ec21bf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool blaze::ThreadPool::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether any tasks are scheduled for execution. </p>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> in case task are scheduled, <em>false</em> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a81f907b1dabbf57574ef59ef53fd50a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> blaze::ThreadPool::ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of currently ready/inactive threads. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of currently ready threads. </dd></dl>

</div>
</div>
<a class="anchor" id="a37e71796beb96c6571a2c92b2e37f413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a>&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the total number of threads in the thread pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>The new number of threads <img class="formulaInl" alt="$[1..\infty)$" src="../../form_171.png"/>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>Invalid number of threads.</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the size of the thread pool, i.e. changes the total number of threads contained in the pool. <a class="el" href="../../d7/d0c/structblaze_1_1If.html" title="Compile time type selection.The If class template selects one of the two given types T2 and T3 depend...">If</a> <em>n</em> is smaller than the current size of the thread pool, the according number of threads is removed from the pool, otherwise new threads are added to the pool. </p>

</div>
</div>
<a class="anchor" id="abc4efde7623f9aba89a0376463835dd4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given zero argument function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable without arguments and must return void. </p>

</div>
</div>
<a class="anchor" id="a078c4ac2e07298a5891e7e8f0999b08a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable , typename A1 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A1&#160;</td>
          <td class="paramname"><em>a1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given unary function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
    <tr><td class="paramname">a1</td><td>The first argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable with one argument and must return void. </p>

</div>
</div>
<a class="anchor" id="a47202085694fec62f82c6c6813f1699b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable , typename A1 , typename A2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A1&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A2&#160;</td>
          <td class="paramname"><em>a2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given binary function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
    <tr><td class="paramname">a1</td><td>The first argument. </td></tr>
    <tr><td class="paramname">a2</td><td>The second argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable with two arguments and must return void. </p>

</div>
</div>
<a class="anchor" id="a289b7573a696614d01dc6294dac5a2b3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable , typename A1 , typename A2 , typename A3 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A1&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A2&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A3&#160;</td>
          <td class="paramname"><em>a3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given ternary function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
    <tr><td class="paramname">a1</td><td>The first argument. </td></tr>
    <tr><td class="paramname">a2</td><td>The second argument. </td></tr>
    <tr><td class="paramname">a3</td><td>The third argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable with three arguments and must return void. </p>

</div>
</div>
<a class="anchor" id="aad6d3175a2e495449f3e230967e2b64f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable , typename A1 , typename A2 , typename A3 , typename A4 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A1&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A2&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A3&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A4&#160;</td>
          <td class="paramname"><em>a4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given four argument function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
    <tr><td class="paramname">a1</td><td>The first argument. </td></tr>
    <tr><td class="paramname">a2</td><td>The second argument. </td></tr>
    <tr><td class="paramname">a3</td><td>The third argument. </td></tr>
    <tr><td class="paramname">a4</td><td>The fourth argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable with four arguments and must return void. </p>

</div>
</div>
<a class="anchor" id="a1933c232475a01611b09ff654144854d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Callable , typename A1 , typename A2 , typename A3 , typename A4 , typename A5 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::schedule </td>
          <td>(</td>
          <td class="paramtype">Callable&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A1&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A2&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A3&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A4&#160;</td>
          <td class="paramname"><em>a4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">A5&#160;</td>
          <td class="paramname"><em>a5</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling the given four argument function/functor for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The given function/functor. </td></tr>
    <tr><td class="paramname">a1</td><td>The first argument. </td></tr>
    <tr><td class="paramname">a2</td><td>The second argument. </td></tr>
    <tr><td class="paramname">a3</td><td>The third argument. </td></tr>
    <tr><td class="paramname">a4</td><td>The fourth argument. </td></tr>
    <tr><td class="paramname">a5</td><td>The fifth argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function schedules the given function/functor for execution. The given function/functor must be copyable, must be callable with five arguments and must return void. </p>

</div>
</div>
<a class="anchor" id="ab8e1168f95417e839b5a82851519c519"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> blaze::ThreadPool::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current size of the thread pool. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of threads in the thread pool. </dd></dl>

</div>
</div>
<a class="anchor" id="a8a08740fdc696ac7251585fcf6d10224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blaze::ThreadPool::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting for all scheduled tasks to be completed. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function blocks until all scheduled tasks have been completed. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a950935080cd29afe1106dd00e66990bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../d9/dcd/classblaze_1_1size__t.html">size_t</a> blaze::ThreadPool::expected_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expected number of threads in the thread pool. </p>
<p>This number may differ from the total number of threads during a resize of the thread pool. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>blaze/util/<a class="el" href="../../d3/d43/ThreadPool_8h_source.html">ThreadPool.h</a></li>
<li>src/util/<a class="el" href="../../d8/d61/ThreadPool_8cpp.html">ThreadPool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 20 2013 08:14:43 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
